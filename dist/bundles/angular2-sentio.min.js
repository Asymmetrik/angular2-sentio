/*! @asymmetrik/angular2-sentio-3.1.2 - Copyright Asymmetrik, Ltd. 2007-2017 - All Rights Reserved.*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@asymmetrik/sentio"),require("d3"),require("rxjs")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@asymmetrik/sentio","d3","rxjs"],e):e(t.angular2Sentio=t.angular2Sentio||{},t.ng.core,t.sentio,t.d3,t.Rx)}(this,function(t,e,r,i,n){"use strict";var a=function(){function t(t,e,r){this.chartElement=i.select(t.nativeElement),this.chart=e,this.chartReady=r}return t.prototype.initialize=function(){this.chart.init(this.chartElement),this.chartReady.emit(this.chart)},t}(),o=function(){function t(t,e){this.width=t,this.height=e}return t}(),s=function(){function t(t,e,r,a){void 0===e&&(e=!0),void 0===r&&(r=200),void 0===a&&(a=100);var o=this;this.enabled=e,this.chartElement=i.select(t.nativeElement),this.resizeSource=n.Observable.create(function(t){o.resizeObserver=t}).publish().refCount().filter(function(){return o.enabled}),null!=r&&(this.resizeSource=this.resizeSource.debounceTime(r)),null!=a&&(this.resizeSource=this.resizeSource.sample(n.Observable.interval(a))),this.resizeSource=this.resizeSource.map(function(){return o.getSize()})}return t.getPixelDimension=function(t){var e;return null!=t&&""!==t&&(e=parseFloat(t.substring(0,t.length-2)),(null==e||isNaN(e))&&(e=void 0)),e},t.getSpecifiedSize=function(e){var r=e.attributes.width||t.getPixelDimension(e.style.width),i=e.attributes.height||t.getPixelDimension(e.style.height);return new o(r,i)},t.getActualSize=function(t){var e=getComputedStyle(t),r=0,i=0,n=0,a=0;try{r=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)}catch(t){}try{i=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)}catch(t){}try{n=parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)}catch(t){}try{a=parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth)}catch(t){}var s=t.offsetWidth-r-n,h=t.offsetHeight-i-a;return new o(s,h)},t.prototype.getSpecifiedSize=function(){return t.getSpecifiedSize(this.chartElement.node())},t.prototype.getActualSize=function(){var e=document.body,r=e.style.overflow;e.style.overflow="hidden";var i=this.chartElement.node().parentElement,n=t.getActualSize(i);return e.style.overflow=r,n},t.prototype.getSize=function(){var t=this.getSpecifiedSize(),e=this.getActualSize();return null!=t.height&&(e.height=t.height),null!=t.width&&(e.width=t.width),e},t.prototype.destroy=function(){this.resizeObserver.complete()},t}(),h=function(t,e,r,i){var n,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(a<3?n(o):a>3?n(e,r,o):n(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o},p=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.chartReady=new e.EventEmitter,this.chartWrapper=new a(t,r.chart.donut(),this.chartReady),this.resizeUtil=new s(t,this.resizeEnabled)}return t.prototype.setChartDimensions=function(t,e){void 0===e&&(e=!1),(e||this.resizeEnabled)&&null!=t.width&&this.chartWrapper.chart.width()!==t.width&&this.chartWrapper.chart.width(t.width).height(t.width).resize()},t.prototype.onResize=function(t){this.resizeUtil.resizeObserver.next(t)},t.prototype.ngOnInit=function(){var t=this;this.chartWrapper.initialize(),this.resizeUtil.resizeSource.subscribe(function(){t.setChartDimensions(t.resizeUtil.getSize()),t.chartWrapper.chart.redraw()}),this.setChartDimensions(this.resizeUtil.getSize(),!0),this.chartWrapper.chart.redraw()},t.prototype.ngOnDestroy=function(){this.resizeUtil.destroy()},t.prototype.ngOnChanges=function(t){var e=!1,r=!1;t.model&&(this.chartWrapper.chart.data(this.model),r=r||!t.model.isFirstChange()),t.duration&&this.chartWrapper.chart.duration(this.duration),t.colorScale&&(this.chartWrapper.chart.colorScale(this.colorScale),r=r||!t.colorScale.isFirstChange()),t.resize&&(this.resizeUtil.enabled=this.resizeEnabled,e=e||this.resizeEnabled&&!t.resize.isFirstChange(),r=r||e),e&&this.chartWrapper.chart.resize(),r&&this.chartWrapper.chart.redraw()},t}();h([e.Input(),p("design:type",Array)],c.prototype,"model",void 0),h([e.Input(),p("design:type",Object)],c.prototype,"colorScale",void 0),h([e.Input("resize"),p("design:type",Boolean)],c.prototype,"resizeEnabled",void 0),h([e.Input(),p("design:type",Number)],c.prototype,"duration",void 0),h([e.Output(),p("design:type",Object)],c.prototype,"chartReady",void 0),h([e.HostListener("window:resize",["$event"]),p("design:type",Function),p("design:paramtypes",[Object]),p("design:returntype",void 0)],c.prototype,"onResize",null),c=h([e.Directive({selector:"sentioDonutChart"}),p("design:paramtypes",[e.ElementRef])],c);var d=function(t,e,r,i){var n,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(a<3?n(o):a>3?n(e,r,o):n(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o},l=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t){this.chartReady=new e.EventEmitter,this.chartWrapper=new a(t,r.chart.matrix(),this.chartReady)}return t.prototype.ngOnInit=function(){this.chartWrapper.initialize(),this.chartWrapper.chart.redraw()},t.prototype.ngOnDestroy=function(){},t.prototype.ngOnChanges=function(t){var e=!1;t.model&&(this.chartWrapper.chart.data(this.model),e=e||!t.model.isFirstChange()),t.duration&&this.chartWrapper.chart.duration(this.duration),e&&this.chartWrapper.chart.redraw()},t}();d([e.Input(),l("design:type",Array)],u.prototype,"model",void 0),d([e.Input(),l("design:type",Number)],u.prototype,"duration",void 0),d([e.Output(),l("design:type",Object)],u.prototype,"chartReady",void 0),u=d([e.Directive({selector:"sentioMatrixChart"}),l("design:paramtypes",[e.ElementRef])],u);var y=function(t,e,r,i){var n,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(a<3?n(o):a>3?n(e,r,o):n(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o},f=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},g=function(){function t(t){this.chartReady=new e.EventEmitter,this.markerOver=new e.EventEmitter,this.markerOut=new e.EventEmitter,this.markerClick=new e.EventEmitter,this.chartWrapper=new a(t,r.chart.realtimeTimeline(),this.chartReady),this.resizeUtil=new s(t,this.resizeHeight||this.resizeWidth)}return t.prototype.setChartDimensions=function(t,e){void 0===e&&(e=!1);var r=!1;(e||this.resizeWidth)&&null!=t.width&&this.chartWrapper.chart.width()!==t.width&&(this.chartWrapper.chart.width(t.width),r=!0),(e||this.resizeHeight)&&null!=t.height&&this.chartWrapper.chart.height()!==t.height&&(this.chartWrapper.chart.height(t.height),r=!0),r&&this.chartWrapper.chart.resize()},t.prototype.onResize=function(t){this.resizeUtil.resizeObserver.next(t)},t.prototype.ngOnInit=function(){var t=this;this.chartWrapper.initialize(),this.chartWrapper.chart.dispatch().on("markerClick",function(e){t.markerClick.emit(e)}),this.chartWrapper.chart.dispatch().on("markerMouseover",function(e){t.markerOver.emit(e)}),this.chartWrapper.chart.dispatch().on("markerMouseout",function(e){t.markerOut.emit(e)}),this.resizeUtil.resizeSource.subscribe(function(){t.setChartDimensions(t.resizeUtil.getSize()),t.chartWrapper.chart.redraw()}),this.setChartDimensions(this.resizeUtil.getSize(),!0),this.chartWrapper.chart.redraw()},t.prototype.ngOnDestroy=function(){this.resizeUtil.destroy()},t.prototype.ngOnChanges=function(t){var e=!1,r=!1;t.model&&(this.chartWrapper.chart.data(this.model),r=r||!t.model.isFirstChange()),t.markers&&(this.chartWrapper.chart.markers(this.markers),r=r||!t.markers.isFirstChange()),t.yExtent&&(this.chartWrapper.chart.yExtent().overrideValue(this.yExtent),r=r||!t.yExtent.isFirstChange()),t.xExtent&&(this.chartWrapper.chart.xExtent().overrideValue(this.xExtent),r=r||!t.xExtent.isFirstChange()),t.fps&&this.chartWrapper.chart.fps(this.fps),t.delay&&(this.chartWrapper.chart.delay(this.delay),r=r||!t.delay.isFirstChange()),t.interval&&(this.chartWrapper.chart.interval(this.interval),r=r||!t.interval.isFirstChange()),e&&this.chartWrapper.chart.resize(),r&&this.chartWrapper.chart.redraw()},t}();y([e.Input(),f("design:type",Array)],g.prototype,"model",void 0),y([e.Input(),f("design:type",Array)],g.prototype,"markers",void 0),y([e.Input(),f("design:type",Array)],g.prototype,"yExtent",void 0),y([e.Input(),f("design:type",Array)],g.prototype,"xExtent",void 0),y([e.Input(),f("design:type",Number)],g.prototype,"delay",void 0),y([e.Input(),f("design:type",Number)],g.prototype,"fps",void 0),y([e.Input(),f("design:type",Number)],g.prototype,"interval",void 0),y([e.Input(),f("design:type",Boolean)],g.prototype,"resizeWidth",void 0),y([e.Input(),f("design:type",Boolean)],g.prototype,"resizeHeight",void 0),y([e.Output(),f("design:type",Object)],g.prototype,"chartReady",void 0),y([e.Output(),f("design:type",Object)],g.prototype,"markerOver",void 0),y([e.Output(),f("design:type",Object)],g.prototype,"markerOut",void 0),y([e.Output(),f("design:type",Object)],g.prototype,"markerClick",void 0),y([e.HostListener("window:resize",["$event"]),f("design:type",Function),f("design:paramtypes",[Object]),f("design:returntype",void 0)],g.prototype,"onResize",null),g=y([e.Directive({selector:"sentioRealtimeTimeline"}),f("design:paramtypes",[e.ElementRef])],g);var m=function(t,e,r,i){var n,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(a<3?n(o):a>3?n(e,r,o):n(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o},v=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},z=function(){function t(t){this.chartReady=new e.EventEmitter,this.filterChange=new e.EventEmitter,this.markerOver=new e.EventEmitter,this.markerOut=new e.EventEmitter,this.markerClick=new e.EventEmitter,this.didFilterChange=function(t,e){return t!==e&&(null==t||null==e||t[0]!==e[0]||t[1]!==e[1])},this.chartWrapper=new a(t,r.chart.timeline(),this.chartReady),this.resizeUtil=new s(t,this.resizeHeight||this.resizeWidth)}return t.prototype.setChartDimensions=function(t,e){void 0===e&&(e=!1);var r=!1;(e||this.resizeWidth)&&null!=t.width&&this.chartWrapper.chart.width()!==t.width&&(this.chartWrapper.chart.width(t.width),r=!0),(e||this.resizeHeight)&&null!=t.height&&this.chartWrapper.chart.height()!==t.height&&(this.chartWrapper.chart.height(t.height),r=!0),r&&this.chartWrapper.chart.resize()},t.prototype.onResize=function(t){this.resizeUtil.resizeObserver.next(t)},t.prototype.ngOnInit=function(){var t=this;this.chartWrapper.initialize(),this.chartWrapper.chart.dispatch().on("markerClick",function(e){t.markerClick.emit(e)}),this.chartWrapper.chart.dispatch().on("markerMouseover",function(e){t.markerOver.emit(e)}),this.chartWrapper.chart.dispatch().on("markerMouseout",function(e){t.markerOut.emit(e)}),this.chartWrapper.chart.dispatch().on("filterend",function(e){t.didFilterChange(e,t.filterState)&&setTimeout(function(){t.filterChange.emit(e)})}),this.resizeUtil.resizeSource.subscribe(function(){t.setChartDimensions(t.resizeUtil.getSize()),t.chartWrapper.chart.redraw()}),this.setChartDimensions(this.resizeUtil.getSize(),!0),this.chartWrapper.chart.redraw(),null!=this.filterState&&this.chartWrapper.chart.setFilter(this.filterState)},t.prototype.ngOnDestroy=function(){this.resizeUtil.destroy()},t.prototype.ngOnChanges=function(t){var e=!1,r=!1;t.model&&(this.chartWrapper.chart.data(this.model),r=r||!t.model.isFirstChange()),t.markers&&(this.chartWrapper.chart.markers(this.markers),r=r||!t.markers.isFirstChange()),t.yExtent&&(this.chartWrapper.chart.yExtent().overrideValue(this.yExtent),r=r||!t.yExtent.isFirstChange()),t.xExtent&&(this.chartWrapper.chart.xExtent().overrideValue(this.xExtent),r=r||!t.xExtent.isFirstChange()),t.filterEnabled&&(this.chartWrapper.chart.filter(this.filterEnabled),r=r||!t.filterEnabled.isFirstChange()),t.filterState&&!t.filterState.isFirstChange()&&this.didFilterChange(t.filterState.currentValue,t.filterState.previousValue)&&(this.chartWrapper.chart.setFilter(this.filterState),r=!0),e&&this.chartWrapper.chart.resize(),r&&this.chartWrapper.chart.redraw()},t}();m([e.Input(),v("design:type",Array)],z.prototype,"model",void 0),m([e.Input(),v("design:type",Array)],z.prototype,"markers",void 0),m([e.Input(),v("design:type",Array)],z.prototype,"yExtent",void 0),m([e.Input(),v("design:type",Array)],z.prototype,"xExtent",void 0),m([e.Input(),v("design:type",Boolean)],z.prototype,"resizeWidth",void 0),m([e.Input(),v("design:type",Boolean)],z.prototype,"resizeHeight",void 0),m([e.Output(),v("design:type",Object)],z.prototype,"chartReady",void 0),m([e.Input(),v("design:type",Boolean)],z.prototype,"filterEnabled",void 0),m([e.Input("filter"),v("design:type",Array)],z.prototype,"filterState",void 0),m([e.Output(),v("design:type",Object)],z.prototype,"filterChange",void 0),m([e.Output(),v("design:type",e.EventEmitter)],z.prototype,"markerOver",void 0),m([e.Output(),v("design:type",e.EventEmitter)],z.prototype,"markerOut",void 0),m([e.Output(),v("design:type",e.EventEmitter)],z.prototype,"markerClick",void 0),m([e.HostListener("window:resize",["$event"]),v("design:type",Function),v("design:paramtypes",[Object]),v("design:returntype",void 0)],z.prototype,"onResize",null),z=m([e.Directive({selector:"sentioTimeline"}),v("design:paramtypes",[e.ElementRef])],z);var b=function(t,e,r,i){var n,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(a<3?n(o):a>3?n(e,r,o):n(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o},w=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},E=function(){function t(t){this.chartReady=new e.EventEmitter,this.chartWrapper=new a(t,r.chart.verticalBars(),this.chartReady),this.resizeUtil=new s(t,this.resizeEnabled)}return t.prototype.setChartDimensions=function(t,e){void 0===e&&(e=!1),(e||this.resizeEnabled)&&null!=t.width&&this.chartWrapper.chart.width()!==t.width&&this.chartWrapper.chart.width(t.width).resize()},t.prototype.onResize=function(t){this.resizeUtil.resizeObserver.next(t)},t.prototype.ngOnInit=function(){var t=this;this.chartWrapper.initialize(),this.resizeUtil.resizeSource.subscribe(function(){t.setChartDimensions(t.resizeUtil.getSize()),t.chartWrapper.chart.redraw()}),this.setChartDimensions(this.resizeUtil.getSize(),!0),this.chartWrapper.chart.redraw()},t.prototype.ngOnDestroy=function(){this.resizeUtil.destroy()},t.prototype.ngOnChanges=function(t){var e=!1,r=!1;t.model&&(this.chartWrapper.chart.data(this.model),r=r||!t.model.isFirstChange()),t.widthExtent&&(this.chartWrapper.chart.widthExtent().overrideValue(this.widthExtent),r=r||!t.widthExtent.isFirstChange()),t.resize&&(this.resizeUtil.enabled=this.resizeEnabled,e=e||this.resizeEnabled&&!t.resize.isFirstChange(),r=r||e),e&&this.chartWrapper.chart.resize(),r&&this.chartWrapper.chart.redraw()},t}();b([e.Input(),w("design:type",Array)],E.prototype,"model",void 0),b([e.Input(),w("design:type",Array)],E.prototype,"widthExtent",void 0),b([e.Input("resize"),w("design:type",Boolean)],E.prototype,"resizeEnabled",void 0),b([e.Input(),w("design:type",Number)],E.prototype,"duration",void 0),b([e.Output(),w("design:type",Object)],E.prototype,"chartReady",void 0),b([e.HostListener("window:resize",["$event"]),w("design:type",Function),w("design:paramtypes",[Object]),w("design:returntype",void 0)],E.prototype,"onResize",null),E=b([e.Directive({selector:"sentioVerticalBarChart"}),w("design:paramtypes",[e.ElementRef])],E);var W=function(t,e,r,i){var n,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(a<3?n(o):a>3?n(e,r,o):n(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o};t.SentioModule=function(){function t(){}return t}(),t.SentioModule=W([e.NgModule({imports:[],exports:[c,u,g,z,E],declarations:[c,u,g,z,E]})],t.SentioModule),Object.defineProperty(t,"__esModule",{value:!0})});